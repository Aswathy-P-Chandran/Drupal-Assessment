/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,drupalSettings,once){'use strict';Drupal.behaviors.entityBrowserIFrame={attach:function(context){$(once('iframe-click','.entity-browser-handle.entity-browser-iframe',context)).on('click',Drupal.entityBrowserIFrame.linkClick);$(once('iframe-auto-open','.entity-browser-handle.entity-browser-iframe',context)).each(function(){var uuid=$(this).attr('data-uuid');if(drupalSettings.entity_browser.iframe[uuid].auto_open)$(this).click();});}};Drupal.entityBrowserIFrame={};Drupal.entityBrowserIFrame.linkClick=function(){var uuid=$(this).attr('data-uuid');var original_path=$(this).attr('data-original-path');var iframeSettings=drupalSettings['entity_browser']['iframe'][uuid];var iframe=$('<iframe />',{'src':iframeSettings['src'],'width':'100%','height':iframeSettings['height'],'data-uuid':uuid,'data-original-path':original_path,'name':'entity_browser_iframe_'+iframeSettings['entity_browser_id'],'id':'entity_browser_iframe_'+iframeSettings['entity_browser_id']});var throbber=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$(this).parent().css('width',iframeSettings['width']);if(drupalSettings.entity_browser.iframe[uuid].js_callbacks||false)Drupal.entityBrowser.registerJsCallbacks(this,drupalSettings.entity_browser.iframe[uuid].js_callbacks,'entities-selected');$(this).parent().append(throbber).append(iframe).trigger('entityBrowserIFrameAppend');$(this).hide();};}(jQuery,Drupal,drupalSettings,once));;
